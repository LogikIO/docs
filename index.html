<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Stamplay Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .c, .highlight .cd {
  color: #75715e;
  font-style: italic;
}
.highlight .cm {
  color: #75715e;
  font-style: italic;
}
.highlight .c1 {
  color: #75715e;
  font-style: italic;
}
.highlight .cp {
  color: #75715e;
  font-weight: bold;
}
.highlight .cs {
  color: #75715e;
  font-weight: bold;
  font-style: italic;
}
.highlight .err {
  color: #960050;
  background-color: #1e0010;
}
.highlight .gi {
  color: #ffffff;
  background-color: #324932;
}
.highlight .gd {
  color: #ffffff;
  background-color: #493131;
}
.highlight .ge {
  color: #000000;
  font-style: italic;
}
.highlight .gr {
  color: #aa0000;
}
.highlight .gt {
  color: #aa0000;
}
.highlight .gh {
  color: #999999;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .k, .highlight .kv {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kc {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kd {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kp {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kr {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kt {
  color: #66d9ef;
  font-weight: bold;
}
.highlight .kn {
  color: #f92672;
  font-weight: bold;
}
.highlight .ow {
  color: #f92672;
  font-weight: bold;
}
.highlight .o {
  color: #f92672;
  font-weight: bold;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sc {
  color: #e6db74;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .sr {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .ss {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .nd {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .ne {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .nf {
  color: #a6e22e;
  font-weight: bold;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .bp {
  color: #f8f8f2;
}
.highlight .nb {
  color: #f8f8f2;
}
.highlight .ni {
  color: #f8f8f2;
}
.highlight .nn {
  color: #f8f8f2;
}
.highlight .vc {
  color: #f8f8f2;
}
.highlight .vg {
  color: #f8f8f2;
}
.highlight .vi {
  color: #f8f8f2;
}
.highlight .nv {
  color: #f8f8f2;
}
.highlight .w {
  color: #f8f8f2;
}
.highlight .nl {
  color: #f8f8f2;
  font-weight: bold;
}
.highlight .nt {
  color: #f92672;
}
.highlight {
  color: #f8f8f2;
  background-color: #49483e;
}
    </style>
    <link href="images/favicon.png" rel="icon" type="image/png" />
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;,&quot;nodejs&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img class="logo" src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="javascript">JavaScript</a>
              <a href="#" data-language-name="nodejs">Node.js</a>
        </div>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="getting-help">Getting Help</h1>

<h2 id="technical-questions">Technical Questions</h2>

<p>For questions related to our API, SDKs, or general technical help, use the <a href="https://stackoverflow.com/tags/stamplay">Stamplay tag on Stackoverflow</a>.</p>

<p>After posting on Stackoverflow, adding the link to your question in our <a href="http://slackinvites.stamplayapp.com">Slack Community</a> will allow other Stamplayers the opportunity to provide any insight into your question.</p>

<h2 id="discussion-and-feedback">Discussion and Feedback</h2>

<p>To discuss Stamplay with other Stamplayers, give feedback, report bugs, or submit feature requests, <a href="http://slackinvites.stamplayapp.com">join our Slack Community</a>.</p>

<p>For account related questions, submit a ticket to <a href="mailto:support@stamplay.com">support@stamplay.com</a>.</p>

          <h1 id="quickstart">Quickstart</h1>

<h2 id="create-an-account">Create An Account</h2>

<p>The first thing needed to get started with Stamplay is to <a href="https://editor.stamplay.com">signup for a free account</a>.</p>

<p>After signing up, create your first Stamplay application in the dashboard by entering a name for your application in the input and selecing <strong>CREATE</strong>.</p>

<h2 id="install-cli">Install CLI</h2>
<pre class="highlight shell-always"><code>    <span class="nx">npm</span> <span class="nx">install</span> <span class="o">-</span><span class="nx">g</span> <span class="nx">stamplay</span><span class="o">-</span><span class="nx">cli</span>
</code></pre>

<p>The Stamplay CLI will allow you to run your application locally, manage application versioning, deploy to the cloud, etc.</p>

<p>Ensure you have Node.js &amp; NPM installed, then <code class="prettyprint">npm install</code> the <code class="prettyprint">stamplay-cli</code> package globally.</p>

<p>After installing the CLI, initialize a project locally inside a project folder by running an <code class="prettyprint">init</code> command from the <code class="prettyprint">stamplay</code> CLI.</p>
<pre class="highlight shell-always"><code>    <span class="nx">stamplay</span> <span class="nx">init</span>
</code></pre>

<p>You will be prompted to enter an <code class="prettyprint">APP ID</code> and <code class="prettyprint">API KEY</code> for a Stamplay application. These can be found in the <strong>Dashboard</strong> of the application created in the previous step.</p>
<pre class="highlight shell-always"><code>    <span class="nx">stamplay</span> <span class="nx">start</span>
</code></pre>

<p>To run our application locally, run the <code class="prettyprint">start</code> command from the <code class="prettyprint">stamplay</code> CLI.</p>

<h2 id="javascript-sdk-setup">JavaScript SDK Setup</h2>

<p>The <a href="https://github.com/Stamplay/stamplay-js-sdk">Stamplay JavaScript SDK</a> is a client-side library for interacting with Stamplay.</p>
<pre class="highlight shell-always"><code>    <span class="nx">npm</span> <span class="nx">install</span> <span class="nx">stamplay</span><span class="o">-</span><span class="nx">js</span><span class="o">-</span><span class="nx">sdk</span>
</code></pre>

<p>Run <code class="prettyprint">npm install</code> for the <code class="prettyprint">stamplay-js-sdk</code> package to download from <code class="prettyprint">npm</code> into your local project directory.</p>
<pre class="highlight shell-always"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s2">"APP ID"</span><span class="p">)</span>
</code></pre>

<p>To initialize the library, run the <code class="prettyprint">init</code> method from the <code class="prettyprint">Stamplay</code> SDK.</p>

<h2 id="define-schema">Define Schema</h2>

<p>Create a new Object schema by visiting the <strong>Object</strong> section within the editor for your application through the sidebar. </p>

<p>Inside the <strong>Object</strong> section, add a name and data type for each property on the schema desired and <strong>Save</strong>.</p>

<h2 id="write-data">Write Data</h2>

<p>To write data to Stamplay, model an object after the schema just created.</p>

<p>Pass the object into the <code class="prettyprint">save</code> method on the <code class="prettyprint">Stamplay.Object</code> class.</p>
<pre class="highlight shell-always"><code>    <span class="kd">var</span> <span class="nx">car</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">make</span> <span class="p">:</span> <span class="s2">"Volkswagen"</span><span class="p">,</span>
        <span class="na">model</span> <span class="p">:</span> <span class="s2">"Jetta"</span><span class="p">,</span>
        <span class="na">year</span> <span class="p">:</span> <span class="mi">2013</span><span class="p">,</span>
        <span class="na">color</span> <span class="p">:</span> <span class="s2">"silver"</span><span class="p">,</span>
        <span class="na">top_speed</span> <span class="p">:</span> <span class="mi">140</span>
    <span class="p">}</span>

    <span class="nx">Stamplay</span><span class="p">.</span><span class="nb">Object</span><span class="p">(</span><span class="s2">"car"</span><span class="p">).</span><span class="nx">save</span><span class="p">(</span><span class="nx">car</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// success</span>
        <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// error</span>
        <span class="p">})</span>
</code></pre>

<p>Most every SDK method returns a promise, or you can pass a callback in as the last method argument.</p>

<h2 id="read-data">Read Data</h2>

<p>To fetch <strong>Object</strong> data from  Stamplay, use the <code class="prettyprint">get</code> method on the <code class="prettyprint">Stamplay.Object</code> class.</p>

<p>The <code class="prettyprint">get</code> method takes an options object. The object is matched against all records, and returns only those that match.</p>
<pre class="highlight shell-always"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nb">Object</span><span class="p">(</span><span class="s2">"car"</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">get</span><span class="p">({})</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// success</span>
        <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// error</span>
        <span class="p">})</span>
</code></pre>

<h2 id="register-users">Register Users</h2>

<p>To register a user with a local account, no additional setup within the Stamplay editor is required.</p>

<p>Use the <code class="prettyprint">signup</code> method on the the <code class="prettyprint">Stamplay.User</code> class, and pass in an object with at least an <code class="prettyprint">email</code> and <code class="prettyprint">password</code> property.</p>
<pre class="highlight shell-always"><code>    <span class="kd">var</span> <span class="nx">credentials</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">email</span> <span class="p">:</span> <span class="s2">"user@provider.com"</span><span class="p">,</span>
        <span class="na">password</span> <span class="p">:</span> <span class="s2">"123123"</span>
    <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">signup</span><span class="p">(</span><span class="nx">credentials</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// error</span>
    <span class="p">})</span>
</code></pre>

<h2 id="login-users">Login Users</h2>

<p>To login a user to a local account, use the <code class="prettyprint">login</code> method on the <code class="prettyprint">Stamplay.User</code> class.</p>
<pre class="highlight shell-always"><code>    <span class="kd">var</span> <span class="nx">credentials</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">email</span> <span class="p">:</span> <span class="s2">"user@provider.com"</span><span class="p">,</span>
        <span class="na">password</span> <span class="p">:</span> <span class="s2">"123123"</span>
    <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">credentials</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// error</span>
    <span class="p">})</span>
</code></pre>

<h2 id="deploy">Deploy</h2>

<p>To deploy your application, run the <code class="prettyprint">deploy</code> command from the <code class="prettyprint">stamplay</code> CLI.</p>
<pre class="highlight shell-always"><code>    <span class="nx">stamplay</span> <span class="nx">deploy</span>
</code></pre>

<p>After deployment is finished, your application will be live at <a href="[YOUR APP ID].stamplayapp.com">[YOUR APP ID].stamplayapp.com</a>.</p>

          <h1 id="api-overview">API Overview</h1>

<h2 id="api-summary">API Summary</h2>

<p>The Stamplay API exposes the following resources:</p>

<p>Manage and access object data.
Manage and access user data, create user sessions.
Manage and access user roles, assign roles.
Execute Code Blocks.
Manage customers and payment information, charge a customer, add subscriptions.
Send an email.</p>

<table><thead>
<tr>
<th>Resource</th>
<th style="text-align: right">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td>Objects</td>
<td style="text-align: right">/api/cobject/v1/{id}</td>
</tr>
<tr>
<td>Users</td>
<td style="text-align: right">/api/user/v1/users</td>
</tr>
<tr>
<td>Roles</td>
<td style="text-align: right">/api/user/v1/roles</td>
</tr>
<tr>
<td>Code Blocks</td>
<td style="text-align: right">/api/v1/run/:codeblock</td>
</tr>
<tr>
<td>Stripe</td>
<td style="text-align: right">/api/stripe/v1/</td>
</tr>
<tr>
<td>Email</td>
<td style="text-align: right">/api/email/v1/send</td>
</tr>
</tbody></table>

<h2 id="pagination">Pagination</h2>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
            </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nt">"total_elements"</span><span class="p">:</span><span class="w"> </span><span class="mi">71</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Responses from the <strong>User</strong> and <strong>Object</strong> resource will also return a <code class="prettyprint">pagination</code> object.</p>

<p>Pagination can be managed by using the <code class="prettyprint">page</code> and <code class="prettyprint">per_page</code> query parameters.</p>

<p>Pagination details are included using the Link header introduced by RFC 5988.
The Link header returns a set of ready-made links so the API consumer does not have to construct the links themselves.</p>

<h2 id="filtering">Filtering</h2>
<pre class="highlight shell"><code>    curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/api/cobject/v1/picture?status=published"</span>
</code></pre>
<pre class="highlight javascript"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nb">Object</span><span class="p">(</span><span class="s2">"picture"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="na">status</span> <span class="p">:</span> <span class="s2">"published"</span> <span class="p">})</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// success</span>
        <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// error</span>
        <span class="p">})</span>
</code></pre>
<pre class="highlight nodejs"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nb">Object</span><span class="p">(</span><span class="s1">'picture'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="na">status</span> <span class="p">:</span> <span class="s2">"published"</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// response</span>
        <span class="p">})</span>
</code></pre>

<p>To filter a response based on a value of a field, set the field and value as a parameter in the request. To filter by more than one field, add each filterable field to the request as a paramter.</p>

<h2 id="sorting">Sorting</h2>
<pre class="highlight shell"><code>    curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/api/cobject/v1/picture?sort=-dt_create"</span>
</code></pre>
<pre class="highlight javascript"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nb">Object</span><span class="p">(</span><span class="s2">"picture"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="na">sort</span> <span class="p">:</span> <span class="s2">"-dt_create"</span> <span class="p">})</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// success</span>
        <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// error</span>
        <span class="p">})</span>
</code></pre>
<pre class="highlight nodejs"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nb">Object</span><span class="p">(</span><span class="s1">'picture'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="na">sort</span> <span class="p">:</span> <span class="s2">"-dt_create"</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// response</span>
        <span class="p">})</span>
</code></pre>

<p>To sort the response, set a <code class="prettyprint">sort</code> parameter as a comma delimited list to sort by in order of importance.</p>

<p>If a field name is appened to an <code class="prettyprint">-</code> character then that field will be sorted in descending order based on the type, otherwise by default the field will be sort in ascending order.</p>

<h2 id="selecting">Selecting</h2>
<pre class="highlight shell"><code>    curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/api/cobject/v1/picture?select=-dt_create,owner,status"</span>
</code></pre>
<pre class="highlight javascript"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nb">Object</span><span class="p">(</span><span class="s2">"picture"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="na">select</span> <span class="p">:</span> <span class="s2">"dt_create,owner,status"</span> <span class="p">})</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// success</span>
        <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// error</span>
        <span class="p">})</span>
</code></pre>
<pre class="highlight nodejs"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nb">Object</span><span class="p">(</span><span class="s1">'picture'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="na">sort</span> <span class="p">:</span> <span class="s2">"dt_create,owner,status"</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// response</span>
        <span class="p">})</span>
</code></pre>

<p>Selecting is the response projection for each object returned. This allows for a lighter data transfer between requests, and simplifies response objects.</p>

<p>To select a field to return, set the <code class="prettyprint">select</code> request parameter to the value of the field name to return. If you want to return more than one field, set the <code class="prettyprint">select</code> parameter as a comma delimited set of properties to return.</p>

<p>The <code class="prettyprint">_id</code> field is always returned.</p>

<h2 id="advanced-queries">Advanced Queries</h2>
<pre class="highlight shell"><code>    curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/api/cobject/v1/picture?where=%7B%20rating'%20:%20%7B%20</span><span class="nv">$gt</span><span class="s2">%20:%205%20%7D%20%7D"</span>

</code></pre>
<pre class="highlight javascript"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nb">Object</span><span class="p">(</span><span class="s2">"picture"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="na">where</span> <span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">rating</span> <span class="p">:</span> <span class="p">{</span> <span class="na">$gt</span> <span class="p">:</span> <span class="mi">5</span> <span class="p">}</span> <span class="p">})</span> <span class="p">})</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// success</span>
        <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// error</span>
        <span class="p">})</span>
</code></pre>
<pre class="highlight nodejs"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nb">Object</span><span class="p">(</span><span class="s1">'picture'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="na">where</span> <span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">rating</span> <span class="p">:</span> <span class="p">{</span> <span class="na">$gt</span> <span class="p">:</span> <span class="mi">5</span> <span class="p">}</span> <span class="p">})</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// response</span>
        <span class="p">})</span>
</code></pre>

<p>For more advanced methods of queries, Stamplay supports an array of MongoDB&rsquo;s conditional operators.</p>

<p>By setting a JSON query string to the <code class="prettyprint">where</code> parameter you can use the operators to perform advanced queries.</p>

<table><thead>
<tr>
<th style="text-align: left">Operator</th>
<th style="text-align: left">Summary</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">$gt</td>
<td style="text-align: left">Matches values that are greater than the value specified in the query.</td>
</tr>
<tr>
<td style="text-align: left">$gte</td>
<td style="text-align: left">Matches values that are greater than or equal to the value specified in the query.</td>
</tr>
<tr>
<td style="text-align: left">$in</td>
<td style="text-align: left">Matches any of the values that exist in an array specified in the query.</td>
</tr>
<tr>
<td style="text-align: left">$lt</td>
<td style="text-align: left">Matches values that are less than the value specified in the query.</td>
</tr>
<tr>
<td style="text-align: left">$lte</td>
<td style="text-align: left">Matches values that are less than or equal to the value specified in the query.</td>
</tr>
<tr>
<td style="text-align: left">$ne</td>
<td style="text-align: left">Matches all values that are not equal to the value specified in the query.</td>
</tr>
<tr>
<td style="text-align: left">$nin</td>
<td style="text-align: left">Matches values that do not exist in an array specified to the query.</td>
</tr>
<tr>
<td style="text-align: left">$or</td>
<td style="text-align: left">Joins query clauses with a logical OR returns all documents that match the conditions of either clause.</td>
</tr>
<tr>
<td style="text-align: left">$and</td>
<td style="text-align: left">Joins query clauses with a logical AND returns all documents that match the conditions of both clauses.</td>
</tr>
<tr>
<td style="text-align: left">$not</td>
<td style="text-align: left">Inverts the effect of a query expression and returns documents that do not match the query expression.</td>
</tr>
<tr>
<td style="text-align: left">$nor</td>
<td style="text-align: left">Joins query clauses with a logical NOR returns all documents that fail to match both clauses.</td>
</tr>
<tr>
<td style="text-align: left">$exists</td>
<td style="text-align: left">Matches documents that have the specified field.</td>
</tr>
<tr>
<td style="text-align: left">$type</td>
<td style="text-align: left">Selects documents if a field is of the specified type.</td>
</tr>
<tr>
<td style="text-align: left">$all</td>
<td style="text-align: left">Matches arrays that contain all elements specified in the query.</td>
</tr>
<tr>
<td style="text-align: left">$elemMatch</td>
<td style="text-align: left">Selects documents if element in the array field matches all the specified $elemMatch condition.</td>
</tr>
<tr>
<td style="text-align: left">$size</td>
<td style="text-align: left">Selects documents if the array field is a specified size</td>
</tr>
<tr>
<td style="text-align: left">$regex</td>
<td style="text-align: left">Selects documents where values match a specified regular expression.</td>
</tr>
</tbody></table>

<h2 id="authentication">Authentication</h2>
<pre class="highlight shell-always"><code>
    <span class="s2">"Authorization"</span> <span class="err">:</span> <span class="s2">"Basic c3RhbXBsYXlrYjo5MTRhMmUzMaMwZWRlMDdmZThhNjYzMzkxMWQyYWQyOTNkNjJkNTQ3OGFiYmViNjEyNzhhYjFjYzE2MDhiZaRi"</span>
</code></pre>
<pre class="highlight shell-always"><code>    <span class="s2">"x-stamplay-jwt"</span> <span class="err">:</span> <span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoidXNlciIsImFwcERvbWFpbiI6InN0YW1wbGF5a2Iuc3RhbXBsYXlscHAuY29tIiwiYXBwSWQiOiJzdGFtcGxheWtiIiwidXNlciI6IjU2ZjAyZDY0NjFkNWI0MTA1ZDFhMjY4NCIsImlhdCI6MTQ1ODU4MTQwNiwiZXhwIjoxNDU5MTg2Mjc4fQ.UDFUe0Zb2ZHx3HXdiUXWnHSyKghVI_harpkkyC3BU8A"</span>
</code></pre>

<p>Depending on the origin enviornment of a request to Stamplay, the method of authenticating the request differs.</p>

<p>Client side requests can be authenticated by setting the <code class="prettyprint">x-stamplay-jwt</code> header as the JSON Web Token issued when a user authenticates with an email and password, or social provider.</p>

<p>Server side request can be authenticated by setting the <code class="prettyprint">Authorization</code> header as <code class="prettyprint">Basic AppId:ApiKey</code>. The <code class="prettyprint">AppId:ApiKey</code> are to be set as a base64 encoding.</p>

<h2 id="cors-policy">CORS Policy</h2>

<p>Stamplay uses a selective cross-origin resource sharing (CORS) policy, meaning that you may only make requests to the Stamplay from an origin that has been previously declared.</p>

<p>This is made to govern which origins are authorized and which are not. By default only the base URL ending with <code class="prettyprint">.stamplayapp.com</code> is the one allowed to send requests.</p>

<p>To enabled other CORS enabled domains, visit the <strong>Hosting</strong> section with the Stamplay editor.</p>

<h2 id="allowed-http-requests">Allowed HTTP Requests</h2>

<table><thead>
<tr>
<th>Method</th>
<th>Summary</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>Get a resource or list of resources</td>
</tr>
<tr>
<td>POST</td>
<td>Create a resource</td>
</tr>
<tr>
<td>PUT</td>
<td>pdate a resource</td>
</tr>
<tr>
<td>PATCH</td>
<td>Update a resource partially</td>
</tr>
<tr>
<td>DELETE</td>
<td>Delete a resource</td>
</tr>
</tbody></table>

<h2 id="error-codes">Error Codes</h2>

<table><thead>
<tr>
<th>Status Code</th>
<th>Status Text</th>
<th>Summary</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
<td>The request was successful.</td>
</tr>
<tr>
<td>201</td>
<td>Created</td>
<td>The request was successful and a resource was created.</td>
</tr>
<tr>
<td>204</td>
<td>No Content</td>
<td>The request was successful but there is no representation to return (i.e. the response is empty).</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>The request could not be understood or was missing required parameters.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
<td>Authentication failed or the user request the resource doesn’t have the required permissions for reqested operation.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Access denied, Authentication will not help.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>Resource not found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
<td>Requested method is not supported for resource.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
<td>Something went wrong during your request</td>
</tr>
</tbody></table>

          <h1 id="sdk-and-client-libraries">SDK and Client Libraries</h1>

<h2 id="javascript-sdk">Javascript SDK</h2>
<pre class="highlight shell-always"><code>    <span class="nx">bower</span> <span class="nx">install</span> <span class="nx">stamplay</span><span class="o">-</span><span class="nx">js</span><span class="o">-</span><span class="nx">sdk</span>
</code></pre>
<pre class="highlight shell-always"><code>    <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s2">"APP ID"</span><span class="p">);</span>
</code></pre>

<p>The JavaScript SDK is a client side library to help simplify interacting with the Stamplay API.</p>

<p>To install the JavasScript SDK, run <code class="prettyprint">bower install</code> for the <code class="prettyprint">stamplay-js-sdk</code>.</p>

<p>To initialize the SDK within your client side enviornment, run the <code class="prettyprint">init</code> method on the <code class="prettyprint">Stamplay</code> global object. Ensure the module has been included before running the method, and pass in your <code class="prettyprint">APP ID</code> as the sole method argument.</p>

<p>An additional options object can be passed in as the second argument, but is primarily meant for use within a mobile application.</p>

<h2 id="nodejs-sdk">NodeJS SDK</h2>
<pre class="highlight shell-always"><code>    <span class="nx">npm</span> <span class="nx">install</span> <span class="nx">stamplay</span>
</code></pre>
<pre class="highlight shell-always"><code>    <span class="kd">var</span> <span class="nx">stamplay</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"stamplay"</span><span class="p">),</span>
        <span class="nx">Stamplay</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">stamplay</span><span class="p">(</span><span class="s2">"APP ID"</span><span class="p">,</span> <span class="s2">"API KEY"</span><span class="p">)</span>

</code></pre>

<p>The Node.js SDK is a server side library to help simplify admin interaction with the Stamplay API.</p>

<p>To install the Node.js SDK, run <code class="prettyprint">npm install</code> for the <code class="prettyprint">stamplay</code>.</p>

<p>To initialize the SDK within your server side enviornment, first <code class="prettyprint">require</code> the module, then create a new instance of the module require and pass in your <code class="prettyprint">APP ID</code> and <code class="prettyprint">API KEY</code> credentials as seperate arguments.</p>

          <h1 id="users">Users</h1>

<h2 id="local-auth">Local Auth</h2>

<h2 id="social-auth">Social Auth</h2>

<h3 id="facebook">Facebook</h3>

<h3 id="google">Google+</h3>

<h3 id="twitter">Twitter</h3>

<h3 id="dropbox">Dropbox</h3>

<h3 id="linkedin">Linkedin</h3>

<h3 id="instagram">Instagram</h3>

<h3 id="github">Github</h3>

<h3 id="angellist">Angellist</h3>

<h2 id="sessions">Sessions</h2>

<h2 id="logout">Logout</h2>

<h2 id="permissions">Permissions</h2>

<h2 id="updating-an-object">Updating an Object</h2>

<h2 id="partially-updating-an-user">Partially Updating an User</h2>

<h2 id="retrieving-an-user-by-id">Retrieving an User by Id</h2>

<h2 id="delete-an-user">Delete an User</h2>

          <h1 id="objects">Objects</h1>

<h2 id="schemas">Schemas</h2>

<p>(make an example with an object that as one property for every type, e.g Restaurant)</p>

<h2 id="data-types">Data Types</h2>

<h2 id="permissions">Permissions</h2>

<h2 id="creating-an-object">Creating an Object</h2>

<h2 id="updating-object">Updating Object</h2>

<h2 id="partially-updating-an-object">Partially Updating an Object</h2>

<h2 id="populating-related-objects">Populating related Objects</h2>

<h2 id="managing-object-owner-how-owners-are-added-and-how-to-populateowner">Managing object owner (how owners are added and how to populateOwner)</h2>

<h2 id="retrieving-an-object-by-id">Retrieving an Object by Id</h2>

<h2 id="delete-an-object">Delete an Object</h2>

<h2 id="upvoting-objects">Upvoting Objects</h2>

<h2 id="commenting-objects">Commenting Objects</h2>

          <h1 id="code-blocks">Code Blocks</h1>

<h2 id="setup">Setup</h2>

<h2 id="programming-models">Programming Models</h2>

<h2 id="simple-model">Simple Model</h2>

<h2 id="contextual-model">Contextual Model</h2>

<h2 id="full-control-model">Full Control Model</h2>

<h2 id="running-code-blocks">Running Code Blocks</h2>

<p>(API)</p>

<h2 id="app-secrets">App Secrets</h2>

<h2 id="npm-modules">NPM Modules</h2>

<h2 id="common-errors">Common Errors</h2>

<h2 id="logs">Logs</h2>

<p>(https://stamplay.com/docs/platform/codeblocks/manage#logs)</p>

<h2 id="lost-logs">Lost Logs</h2>

          <h1 id="web-hosting">Web Hosting</h1>

<h2 id="stamplay-command-line-tool">Stamplay Command line Tool</h2>

<h3 id="stamplay-json">stamplay.json</h3>

<h3 id="app-deploy">App Deploy</h3>

<h3 id="rollback">Rollback</h3>

<h3 id="app-development">App Development</h3>

<h3 id="open-in-browser">Open In Browser</h3>

<h3 id="cli-updates">CLI Updates</h3>

<h2 id="custom-domains-and-sll">Custom Domains and SLL</h2>

<h3 id="setup">Setup</h3>

<h3 id="pretty-urls">Pretty URLs</h3>

<h3 id="cors-enabled-domains">CORS Enabled Domains</h3>

<h3 id="domain-ownership">Domain Ownership</h3>

          <h1 id="errors">Errors</h1>

<p>The Stamplay API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

          <h1 id="demo-applications">Demo Applications</h1>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="javascript">JavaScript</a>
                <a href="#" data-language-name="nodejs">Node.js</a>
          </div>
      </div>
    </div>
  </body>
</html>
